pipeline_name: pl_rest_api_cloud_zip

schedule:
  frequency: Day
  interval: 1
  # The DTA connection via CIP platform points to the same dataset dataset.
  # It is intended that in a couple of months, the delete_file_after_download will be set to true,
  # and hence only one of the ADF pipelines will need to delete the file in order to allow the other
  # 2 to also ingest the data. This pipeline will also need to run after the other 2 pipelines.
  # This ACP pipeline was chosen to be the one to delete the file so it it scheduled to a different time
  # than the other 2 pipelines.
  hours: [1]

datastore_parameters:
  base_url: https://apim.acp.cloud.nibc.com
  relative_url_listing: /internal/cddn/bagpro-api/1.0/list
  relative_url_retrival: /internal/cddn/bagpro-api/1.0/retrieve
  relative_url_delete: /internal/cddn/bagpro-api/1.0/delete
  key_vault_secret_name: apim-authorization-access-token
  microsoft_entra_cid: b708124d-fac6-4065-b04f-9043d890a256
  microsoft_entra_scope: https://apim.acp.cloud.nibc.com/.default
  column_delimiter: ';'
  delete_file_after_download: false

datasets:
  - name: cddn_export_bag_pro
